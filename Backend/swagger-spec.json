{"openapi":"3.0.0","paths":{"/teams/create":{"post":{"operationId":"TeamsController_create","summary":"Create a new team","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamCreateDto"}}}},"responses":{"201":{"description":"Team created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team"},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"Already on team"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/update":{"post":{"operationId":"TeamsController_update","summary":"Update a team","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamModifyDto"}}}},"responses":{"201":{"description":"Team updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team"},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"Not owner of team"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/all":{"get":{"operationId":"TeamsController_getAll","summary":"Get all teams","parameters":[],"responses":{"200":{"description":"Teams found","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Team"}}}}},"401":{"description":"Unauthorized JWT Token"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams":{"get":{"operationId":"TeamsController_get","summary":"Get a team by id","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Team found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]},"delete":{"operationId":"TeamsController_delete","summary":"Delete a team","parameters":[{"name":"id","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Team deleted","content":{"application/json":{"schema":{"type":"boolean"}}}},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"Not owner of team"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/members":{"get":{"operationId":"TeamsController_getWithUserId","summary":"Get a team by user id","parameters":[{"name":"id","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Team found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/members/add":{"post":{"operationId":"TeamsController_addMember","summary":"Add a member to a team","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberModifyDto"}}}},"responses":{"201":{"description":"Member added","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team modification"},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"User already on team"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/members/remove":{"post":{"operationId":"TeamsController_removeMember","summary":"Remove a member from a team","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberModifyDto"}}}},"responses":{"201":{"description":"Member removed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team modification"},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"User cannot be removed"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/invites":{"post":{"operationId":"TeamsController_inviteMember","summary":"Invite a member to a team","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamInviteDto"}}}},"responses":{"201":{"description":"Member invited","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team modification"},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/invites/accept":{"post":{"operationId":"TeamsController_acceptInvitation","summary":"Accept an invitation to a team","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberModifyDto"}}}},"responses":{"201":{"description":"Invitation accepted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team modification"},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/invites/reject":{"post":{"operationId":"TeamsController_rejectInvitation","summary":"Reject an invitation to a team as owner or invitee","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberModifyDto"}}}},"responses":{"201":{"description":"Invitation rejected","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team modification"},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/invites/member":{"get":{"operationId":"TeamsController_getInvitesForUser","summary":"Get all teams a user is invited to","parameters":[{"name":"id","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Teams found","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Team"}}}}},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/teams/pay":{"post":{"operationId":"TeamsController_payDebt","summary":"Deducts amount from member's team debt","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberModifyDto"}}}},"responses":{"201":{"description":"Debt paid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Team"}}}},"400":{"description":"Invalid team modification"},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["teams"],"security":[{"access-token":[]}]}},"/users/all":{"get":{"operationId":"UsersController_getAll","summary":"Get all users","parameters":[],"responses":{"200":{"description":"Users found","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}},"401":{"description":"Unauthorized JWT Token"}},"tags":["users"],"security":[{"access-token":[]}]}},"/users":{"get":{"operationId":"UsersController_get","summary":"Get a user by id","parameters":[{"name":"id","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"User found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["users"],"security":[{"access-token":[]}]}},"/users/signup":{"post":{"operationId":"UsersController_signup","summary":"Sign up a new user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupDto"}}}},"responses":{"201":{"description":"User created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Invalid user"}},"tags":["users"],"security":[{"access-token":[]}]}},"/users/login":{"post":{"operationId":"UsersController_login","summary":"Login a user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":"Successful Login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtDto"}}}},"401":{"description":"Invalid login credentials"}},"tags":["users"],"security":[{"access-token":[]}]}},"/users/modify":{"post":{"operationId":"UsersController_modify","summary":"Modify a user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModifyDto"}}}},"responses":{"201":{"description":"User modified","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["users"],"security":[{"access-token":[]}]}},"/polls/create":{"post":{"operationId":"PollsController_createPoll","summary":"Create a new poll for team","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PollCreateDto"}}}},"responses":{"201":{"description":"Poll created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Poll"}}}},"400":{"description":"Invalid poll"},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"Not owner of team"},"404":{"description":"Entity not found"}},"tags":["polls"],"security":[{"access-token":[]}]}},"/polls":{"get":{"operationId":"PollsController_getPoll","summary":"Get the current poll for team","parameters":[{"name":"id","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Poll found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Poll"}}}},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["polls"],"security":[{"access-token":[]}]}},"/polls/stage":{"post":{"operationId":"PollsController_setPollStage","summary":"Set the current poll stage","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PollStageDto"}}}},"responses":{"201":{"description":"Poll stage set","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Poll"}}}},"400":{"description":"Invalid poll stage"},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"Not owner of team"},"404":{"description":"Entity not found"}},"tags":["polls"],"security":[{"access-token":[]}]}},"/polls/vote":{"post":{"operationId":"PollsController_vote","summary":"Vote for a poll","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoteDto"}}}},"responses":{"201":{"description":"Poll vote set","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Poll"}}}},"400":{"description":"Invalid poll vote"},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["polls"],"security":[{"access-token":[]}]}},"/polls/results":{"get":{"operationId":"PollsController_getResults","summary":"Get the results of a poll","parameters":[{"name":"id","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Poll results calculated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PollResultsDto"}}}},"401":{"description":"Unauthorized JWT Token"},"404":{"description":"Entity not found"}},"tags":["polls"],"security":[{"access-token":[]}]}},"/polls/split":{"post":{"operationId":"PollsController_splitBill","summary":"Split a bill between team members and get tip amount","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamBillDto"}}}},"responses":{"201":{"description":"Bill split","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SplitBillDto"}}}},"400":{"description":"Invalid bill"},"401":{"description":"Unauthorized JWT Token"},"403":{"description":"Not owner of team"},"404":{"description":"Entity not found"}},"tags":["polls"],"security":[{"access-token":[]}]}}},"info":{"title":"Team Dinner API","description":"Team Dinner Documentation","version":"0.0.1","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"access-token":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"TeamCreateDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}},"required":["name","description"]},"Member":{"type":"object","properties":{"id":{"type":"string"},"debt":{"type":"number"}},"required":["id","debt"]},"Team":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"owner":{"type":"string"},"members":{"type":"array","items":{"$ref":"#/components/schemas/Member"}},"invitations":{"type":"array","items":{"type":"string"}}},"required":["id","name","description","owner","members","invitations"]},"TeamModifyDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"TeamMemberModifyDto":{"type":"object","properties":{"teamId":{"type":"string"},"userId":{"type":"string"},"amount":{"type":"number"}},"required":["teamId"]},"TeamInviteDto":{"type":"object","properties":{"teamId":{"type":"string"},"email":{"type":"string"}},"required":["teamId","email"]},"User":{"type":"object","properties":{"id":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"teams":{"type":"array","items":{"type":"string"}},"venmo":{"type":"string"},"tipAmount":{"type":"number"}},"required":["id","firstName"]},"SignupDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"}},"required":["firstName","lastName","password","email"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"JwtDto":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"ModifyDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"venmo":{"type":"string"},"tipAmount":{"type":"number"}}},"PollCreateDto":{"type":"object","properties":{"topic":{"type":"string"},"description":{"type":"string"},"time":{"format":"date-time","type":"string"},"location":{"type":"string"},"isMultichoice":{"type":"boolean"},"options":{"type":"array","items":{"type":"string"}}},"required":["topic","description","time","location","isMultichoice","options"]},"Poll_Option":{"type":"object","properties":{"id":{"type":"string"},"option":{"type":"string"}},"required":["id","option"]},"Vote":{"type":"object","properties":{"optionIds":{"type":"array","items":{"type":"string"}},"userId":{"type":"string"}},"required":["optionIds","userId"]},"Poll":{"type":"object","properties":{"id":{"type":"string"},"topic":{"type":"string"},"description":{"type":"string"},"time":{"format":"date-time","type":"string"},"location":{"type":"string"},"isMultichoice":{"type":"boolean"},"options":{"type":"array","items":{"$ref":"#/components/schemas/Poll_Option"}},"votes":{"type":"array","items":{"$ref":"#/components/schemas/Vote"}},"stage":{"type":"string","enum":["NOT_STARTED","IN_PROGRESS","FINISHED"]}},"required":["id","topic","description","time","location","isMultichoice","options","votes","stage"]},"PollStageDto":{"type":"object","properties":{"pollId":{"type":"string"},"stage":{"type":"string","enum":["NOT_STARTED","IN_PROGRESS","FINISHED"]}},"required":["stage"]},"VoteDto":{"type":"object","properties":{"pollId":{"type":"string"},"userId":{"type":"string"},"optionIds":{"type":"array","items":{"type":"string"}}},"required":["optionIds"]},"PollResultsDto":{"type":"object","properties":{"id":{"type":"string"},"results":{"type":"object","example":{"option_id_1":4,"option_id_2":1}}},"required":["id","results"]},"TeamBillDto":{"type":"object","properties":{"amount":{"type":"number"}},"required":["amount"]},"SplitBillDto":{"type":"object","properties":{"tip":{"type":"number"}},"required":["tip"]}}}}